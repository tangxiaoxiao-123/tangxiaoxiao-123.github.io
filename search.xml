<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>我的第一篇博客文章</title>
    <url>/2020/07/23/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[<p>​        Hello World！欢迎来到tangxiaoxiao的博客世界，请多多关照！</p>
<a id="more"></a>
<script type="math/tex; mode=display">
f(x,y,z) = 3y^2z \left( 3+\frac{7x+5}{1+y^2} \right)</script><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">"hello world!"</span>);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
  </entry>
  <entry>
    <title>Qt小项目-猜数字游戏</title>
    <url>/2020/07/24/Qt%E5%B0%8F%E9%A1%B9%E7%9B%AE-%E7%8C%9C%E6%95%B0%E5%AD%97%E6%B8%B8%E6%88%8F/</url>
    <content><![CDATA[<hr>
<p>环境：Qt5</p>
<p>主要知识点：常用控件的使用；信号与槽；定时器的使用等等</p>
<a id="more"></a>
<p>实现效果：</p>
<ul>
<li>进入游戏开始计时，游戏过程中显示剩余时间；</li>
<li>随机生成数字，范围在1000~9999；</li>
<li>输入数字后会显示相关内容，检测不能输入以0开头的数，输入4位数后自动检测答案，除此之外，按键设置了删除功能、正确结果显示；</li>
<li>猜测正确则成功，弹出图片；</li>
<li>时间超时还没有猜对，则失败；</li>
<li>同时游戏结束后设置了继续游戏和退出游戏的选项；</li>
</ul>
<hr>
<p>mainwindow.cpp</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"mainwindow.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_mainwindow.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QTime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QString&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QTimerEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QMovie&gt;</span></span></span><br><span class="line"></span><br><span class="line">MainWindow::MainWindow(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::MainWindow)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;setWindowTitle(<span class="string">"猜数字游戏"</span>);<span class="comment">//设置窗口标题</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;setWindowIcon(QIcon(<span class="string">"://imgae/photo1.png"</span>));<span class="comment">//设置窗口图标</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;resize(<span class="number">600</span>,<span class="number">600</span>);<span class="comment">//设置窗口大小</span></span><br><span class="line">    ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page);</span><br><span class="line">    overmovie = <span class="keyword">new</span> QMovie(<span class="string">"://imgae/fail.gif"</span>);</span><br><span class="line">    successmovie = <span class="keyword">new</span> QMovie(<span class="string">"://imgae/success.gif"</span>);</span><br><span class="line">    ui-&gt;label_5-&gt;setMovie(overmovie);</span><br><span class="line">    ui-&gt;label_6-&gt;setMovie(successmovie);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_end,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::<span class="built_in">close</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_0,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_1,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_2,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_3,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_4,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_5,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_6,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_7,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_8,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_9,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;MainWindow::dealNum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MainWindow::~MainWindow()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_pushButton_enter_clicked</span><span class="params">()</span><span class="comment">//开始进入游戏</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    gameTime = ui-&gt;spinBox-&gt;<span class="built_in">text</span>().toInt();<span class="comment">//获取下拉框的时间</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page_2);<span class="comment">//切换到第二个游戏页面</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    qsrand(QTime(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>).secsTo(QTime::currentTime()));</span><br><span class="line">    <span class="keyword">while</span>((num = qrand()%<span class="number">10000</span>) &lt;= <span class="number">999</span>);</span><br><span class="line">    randstr = QString::number(num);</span><br><span class="line">     <span class="comment">//生成随机数</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;progressBar-&gt;setMinimum(<span class="number">0</span>);</span><br><span class="line">    ui-&gt;progressBar-&gt;setMaximum(gameTime);</span><br><span class="line">    ui-&gt;progressBar-&gt;setValue(gameTime);</span><br><span class="line">    <span class="comment">//设置进度条</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;gametimeID = startTimer(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    resultstr.<span class="built_in">clear</span>();</span><br><span class="line">    tmpresultstr = <span class="string">"&lt;font color=\"Orange\"&gt;已设置 "</span>+QString::number(gameTime)+<span class="string">" s, Game Start!&lt;font&gt;"</span>;</span><br><span class="line">    ui-&gt;textEdit-&gt;setText(tmpresultstr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::timerEvent</span><span class="params">(QTimerEvent *e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(gametimeID==e-&gt;timerId())</span><br><span class="line">    &#123;</span><br><span class="line">        gameTime--;<span class="comment">//倒计时</span></span><br><span class="line">        ui-&gt;progressBar-&gt;setValue(gameTime);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span>==gameTime)</span><br><span class="line">        &#123;</span><br><span class="line">            killTimer(gametimeID);</span><br><span class="line">            QMessageBox::information(<span class="keyword">this</span>,<span class="string">"失败"</span>,<span class="string">"时间到了啊！"</span>);</span><br><span class="line"></span><br><span class="line">            overmovie-&gt;start();</span><br><span class="line">            ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page_3);</span><br><span class="line"></span><br><span class="line">            overtimeID = startTimer(<span class="number">5000</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(overtimeID == e-&gt;timerId())&#123;</span><br><span class="line">        overmovie-&gt;<span class="built_in">stop</span>();</span><br><span class="line">        killTimer(overtimeID);</span><br><span class="line">        ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page);</span><br><span class="line">        ui-&gt;spinBox-&gt;setValue(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(e-&gt;timerId()==successtimeID)</span><br><span class="line">    &#123;</span><br><span class="line">        successmovie-&gt;<span class="built_in">stop</span>();</span><br><span class="line">        killTimer(successtimeID);</span><br><span class="line">        ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page);</span><br><span class="line">        ui-&gt;spinBox-&gt;setValue(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::dealNum</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QObject *mySender = sender();</span><br><span class="line">    <span class="comment">//获取信号发出者</span></span><br><span class="line">    QPushButton *p = (QPushButton *)mySender;</span><br><span class="line">    <span class="keyword">if</span>(p!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        QString numstr = p-&gt;<span class="built_in">text</span>();</span><br><span class="line">        resultstr += numstr;</span><br><span class="line">        <span class="keyword">if</span>(resultstr==<span class="string">"0"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            resultstr.<span class="built_in">clear</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(resultstr.<span class="built_in">size</span>()&lt;=<span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;textEdit-&gt;setText(resultstr);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(resultstr.<span class="built_in">size</span>()==<span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(resultstr&gt;randstr)</span><br><span class="line">                &#123;</span><br><span class="line">                    ui-&gt;textEdit-&gt;append(<span class="string">"数字大了点！"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(resultstr &lt; randstr)</span><br><span class="line">                &#123;</span><br><span class="line">                    ui-&gt;textEdit-&gt;append(<span class="string">"数字小了点！"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ui-&gt;textEdit-&gt;append(<span class="string">"恭喜你猜对了！"</span>);</span><br><span class="line">                    killTimer(gametimeID);</span><br><span class="line">                    QMessageBox::information(<span class="keyword">this</span>,<span class="string">"成功"</span>,<span class="string">"恭喜你猜对了！"</span>);</span><br><span class="line">                    successmovie-&gt;start();</span><br><span class="line">                    ui-&gt;stackedWidget-&gt;setCurrentWidget(ui-&gt;page_4);</span><br><span class="line">                    successtimeID = startTimer(<span class="number">5000</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                resultstr.<span class="built_in">clear</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_pushButton_ans_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    resultstr.<span class="built_in">clear</span>();</span><br><span class="line">    QString str = <span class="string">"正确答案："</span>+randstr;</span><br><span class="line">    ui-&gt;textEdit-&gt;append(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::on_pushButton_del_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(resultstr.<span class="built_in">size</span>()==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        resultstr.<span class="built_in">clear</span>();</span><br><span class="line">        ui-&gt;textEdit-&gt;<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        resultstr.chop(<span class="number">1</span>);</span><br><span class="line">        ui-&gt;textEdit-&gt;setText(resultstr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main.cpp</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"mainwindow.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    MainWindow w;</span><br><span class="line">    w.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a.exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>mainwindow.h</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MAINWINDOW_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAINWINDOW_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;QString&gt;</span></span></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">MainWindow</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~MainWindow();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dealNum</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">timerEvent</span><span class="params">(QTimerEvent *e)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_pushButton_enter_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_pushButton_ans_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_pushButton_del_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::MainWindow *ui;</span><br><span class="line">    <span class="keyword">int</span> gameTime;</span><br><span class="line">    QString randstr;</span><br><span class="line">    <span class="keyword">int</span> gametimeID;<span class="comment">//游戏开始时间</span></span><br><span class="line">    <span class="keyword">int</span> overtimeID;<span class="comment">//游戏失败动画时间</span></span><br><span class="line">    <span class="keyword">int</span> successtimeID;<span class="comment">//游戏成功动画时间</span></span><br><span class="line">    QMovie *overmovie;</span><br><span class="line">    QMovie *successmovie;</span><br><span class="line">    QString resultstr;</span><br><span class="line">    QString tmpresultstr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// MAINWINDOW_H</span></span></span><br></pre></td></tr></table></figure>
<hr>
<p>游戏打包：</p>
<p>百度网盘：<a href="https://pan.baidu.com/s/13Rd68mm5nQsxnU05ptB8Hg" target="_blank" rel="noopener">https://pan.baidu.com/s/13Rd68mm5nQsxnU05ptB8Hg</a>   提取码：14e5</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Qt,C++</tag>
      </tags>
  </entry>
</search>
